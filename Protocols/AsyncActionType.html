<!DOCTYPE html>
<html lang="en">
  <head>
    <title>AsyncActionType Protocol Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
  </head>
  <body>
    <a name="//apple_ref/swift/Protocol/AsyncActionType" class="dashAnchor"></a>
    <a title="AsyncActionType Protocol Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">Flux Docs</a> (100% documented)</p>
        <p class="header-right"><a href="https://github.com/thoughtbot/Flux"><img src="../img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">Flux Reference</a>
        <img id="carat" src="../img/carat.png" />
        AsyncActionType Protocol Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/ObservableProperty.html">ObservableProperty</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols/ActionType.html">ActionType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/AsyncActionType.html">AsyncActionType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/ObservablePropertyType.html">ObservablePropertyType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/StoreType.html">StoreType</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>AsyncActionType</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">AsyncActionType</span></code></pre>

                </div>
              </div>
            <p>This protocol is used when you want to do some async behavior that updates the
store.  Its very minimal in that its not allowed to modify the store
directly. The async behavior is done within the <code>call</code> method and to make
changes it should dispatch a synchronous action.</p>

<p>Sample Action:</p>

<pre class="highlight swift"><code><span class="kd">struct</span> <span class="kt">FetchUsers</span><span class="p">:</span> <span class="kt">AsyncActionType</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">call</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">someApi</span><span class="o">.</span><span class="n">fetchUsers</span> <span class="p">{</span> <span class="n">users</span> <span class="k">in</span>
            <span class="n">store</span><span class="o">.</span><span class="nf">dispatch</span><span class="p">(</span><span class="kt">SetUsersAction</span><span class="p">(</span><span class="nv">users</span><span class="p">:</span> <span class="n">users</span><span class="p">))</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">store</span><span class="o">.</span><span class="nf">dispatch</span><span class="p">(</span><span class="kt">UpdateIdAction</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="mi">1</span><span class="p">))</span>
</code></pre>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FP4Flux15AsyncActionType4calluRq_S0__Fq_FT_qq_S0_12ResponseType"></a>
                    <a name="//apple_ref/swift/Method/call()" class="dashAnchor"></a>
                    <a class="token" href="#/s:FP4Flux15AsyncActionType4calluRq_S0__Fq_FT_qq_S0_12ResponseType">call()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>This method is where you perform some async behavior that when completed,
should dispatch a synchronous action on the store.</p>

<p>You can optionally return an object that wraps async behavior. This might
be a <code>Promise</code> from PromiseKit or <code>SignalProducer</code> from ReactiveCocoa.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">func</span> <span class="nf">call</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">ResponseType</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:P4Flux15AsyncActionType12ResponseType"></a>
                    <a name="//apple_ref/swift/Alias/ResponseType" class="dashAnchor"></a>
                    <a class="token" href="#/s:P4Flux15AsyncActionType12ResponseType">ResponseType</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The return type from the <code>call</code> method.</p>

<div class="aside aside-note">
          <p class="aside-title">Note</p>
          This is inferred from the <code>call</code> method implementation.

        </div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">typealias</span> <span class="kt">ResponseType</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2015 <a class="link" href="https://thoughtbot.com" target="_blank" rel="external">thoughtbot</a>. All rights reserved. (Last updated: 2015-11-27)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.4.1</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
