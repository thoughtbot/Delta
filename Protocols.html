<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Protocols  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
  </head>
  <body>
    <a title="Protocols  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">Flux Docs</a> (100% documented)</p>
        <p class="header-right"><a href="https://github.com/thoughtbot/Flux"><img src="img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">Flux Reference</a>
        <img id="carat" src="img/carat.png" />
        Protocols  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/ObservableProperty.html">ObservableProperty</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/ActionType.html">ActionType</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/AsyncActionType.html">AsyncActionType</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/ObservablePropertyType.html">ObservablePropertyType</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/StoreType.html">StoreType</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>Protocols</h1>
            <p>The following protocols are available globally.</p>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:P4Flux15AsyncActionType"></a>
                    <a name="//apple_ref/swift/Protocol/AsyncActionType" class="dashAnchor"></a>
                    <a class="token" href="#/s:P4Flux15AsyncActionType">AsyncActionType</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>This protocol is used when you want to do some async behavior that updates the
store.  Its very minimal in that its not allowed to modify the store
directly. The async behavior is done within the <code>call</code> method and to make
changes it should dispatch a synchronous action.</p>

<p>Sample Action:</p>

<pre class="highlight swift"><code><span class="kd">struct</span> <span class="kt">FetchUsers</span><span class="p">:</span> <span class="kt">AsyncActionType</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">call</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">someApi</span><span class="o">.</span><span class="n">fetchUsers</span> <span class="p">{</span> <span class="n">users</span> <span class="k">in</span>
            <span class="n">store</span><span class="o">.</span><span class="nf">dispatch</span><span class="p">(</span><span class="kt">SetUsersAction</span><span class="p">(</span><span class="nv">users</span><span class="p">:</span> <span class="n">users</span><span class="p">))</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">store</span><span class="o">.</span><span class="nf">dispatch</span><span class="p">(</span><span class="kt">UpdateIdAction</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="mi">1</span><span class="p">))</span>
</code></pre>

                        <a href="Protocols/AsyncActionType.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">AsyncActionType</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:P4Flux9StoreType"></a>
                    <a name="//apple_ref/swift/Protocol/StoreType" class="dashAnchor"></a>
                    <a class="token" href="#/s:P4Flux9StoreType">StoreType</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A protocol that defines storage of an observable state and dispatch methods to
modify it.  This is typically implemented on a struct and then a shared instance
is created that is referenced throughout the application to get the state or
dispatch actions to change it.</p>

<p>Sample store:</p>

<pre class="highlight swift"><code><span class="kd">struct</span> <span class="kt">AppState</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">id</span> <span class="o">=</span> <span class="kt">ObservableProperty</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">struct</span> <span class="kt">Store</span><span class="p">:</span> <span class="kt">StoreType</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">state</span><span class="p">:</span> <span class="kt">ObservableProperty</span><span class="o">&lt;</span><span class="kt">AppState</span><span class="o">&gt;</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">initialState</span> <span class="o">=</span> <span class="kt">AppState</span><span class="p">()</span>
<span class="k">var</span> <span class="nv">store</span> <span class="o">=</span> <span class="kt">Store</span><span class="p">(</span><span class="nv">state</span><span class="p">:</span> <span class="kt">ObservableProperty</span><span class="p">(</span><span class="n">initialState</span><span class="p">))</span>
</code></pre>

                        <a href="Protocols/StoreType.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">StoreType</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:P4Flux10ActionType"></a>
                    <a name="//apple_ref/swift/Protocol/ActionType" class="dashAnchor"></a>
                    <a class="token" href="#/s:P4Flux10ActionType">ActionType</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>This protocol is used when you want to make modifications to the store&rsquo;s state.
All changes to the store go through this type.</p>

<p>Sample Action:</p>

<pre class="highlight swift"><code><span class="kd">struct</span> <span class="kt">UpdateIdAction</span><span class="p">:</span> <span class="kt">ActionType</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">id</span><span class="p">:</span> <span class="kt">Int</span>

    <span class="kd">func</span> <span class="nf">reduce</span><span class="p">(</span><span class="nv">state</span><span class="p">:</span> <span class="kt">AppState</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">AppState</span> <span class="p">{</span>
        <span class="n">state</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">id</span>
        <span class="k">return</span> <span class="n">state</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">store</span><span class="o">.</span><span class="nf">dispatch</span><span class="p">(</span><span class="kt">UpdateIdAction</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="mi">1</span><span class="p">))</span>
</code></pre>

                        <a href="Protocols/ActionType.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">ActionType</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:P4Flux22ObservablePropertyType"></a>
                    <a name="//apple_ref/swift/Protocol/ObservablePropertyType" class="dashAnchor"></a>
                    <a class="token" href="#/s:P4Flux22ObservablePropertyType">ObservablePropertyType</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>This is the protocol that the state the store holds must implement.</p>

<p>To use a custom state type, this protocol must be implemented on that object.</p>

<p>This is useful if you want to plug in a reactive programming library and use
that for state instead of the built-in ObservableProperty type.</p>

                        <a href="Protocols/ObservablePropertyType.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">ObservablePropertyType</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2015 <a class="link" href="https://thoughtbot.com" target="_blank" rel="external">thoughtbot</a>. All rights reserved. (Last updated: 2015-12-01)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.4.1</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
